<app-nav-logueado></app-nav-logueado>
<app-profile-welcome-edit [buttonVisible]="button2y3Visible"></app-profile-welcome-edit>
<div class="profile">
	<form class="infoProfile" [formGroup]="updateForm" (ngSubmit)="onSubmit()">
	  <div class="leftPart">
		<div class="partesUnidas">
		  <div class="parte1">
			<div class="containerInfo" [ngClass]="{'error': isFieldInvalid('name')}">
			  <label>Nombre</label>
			  <input type="text" [formControlName]="'name'">
			  <div *ngIf="isFieldInvalid('name')" class="error-message">
				{{ getErrorMessage('name') }}
			  </div>
			</div>
			<div class="containerInfo" [ngClass]="{'error': isFieldInvalid('document')}">
			  <label>Documento</label>
			  <input type="text" [formControlName]="'document'">
			  <div *ngIf="isFieldInvalid('document')" class="error-message">
				{{ getErrorMessage('document') }}
			  </div>
			</div>
			<div class="containerInfo" [ngClass]="{'error': isFieldInvalid('lastName')}">
			  <label>Apellido</label>
			  <input type="text" [formControlName]="'lastName'">
			  <div *ngIf="isFieldInvalid('lastName')" class="error-message">
				{{ getErrorMessage('lastName') }}
			  </div>
			</div>
		  </div>
		  <div class="parte2">
			<div class="containerInfo" [ngClass]="{'error': isFieldInvalid('age')}">
			  <label>Edad</label>
			  <input type="text" [formControlName]="'age'">
			  <div *ngIf="isFieldInvalid('age')" class="error-message">
				{{ getErrorMessage('age') }}
			  </div>
			</div>
			<div class="containerInfo" [ngClass]="{'error': isFieldInvalid('phoneNumber')}">
			  <label>Teléfono</label>
			  <input type="text" [formControlName]="'phoneNumber'">
			  <div *ngIf="isFieldInvalid('phoneNumber')" class="error-message">
				{{ getErrorMessage('phoneNumber') }}
			  </div>
			</div>
			<div class="containerInfo" [ngClass]="{'error': isFieldInvalid('address')}">
			  <label>Dirección</label>
			  <input type="text" [formControlName]="'address'">
			  <div *ngIf="isFieldInvalid('address')" class="error-message">
				{{ getErrorMessage('address') }}
			  </div>
			</div>
		  </div>
		  <div class="parte3">
			<div class="containerInfo">
			  <label>Correo</label>
			  <input type="text" [formControlName]="'email'" [ngClass]="{'error': isFieldInvalid('email')}">
			  <div *ngIf="isFieldInvalid('email')" class="error-message">
				{{ getErrorMessage('email') }}
			  </div>
                    <div class="containerCambiar">
                        <app-button label="Cambiar contraseña" (click)="enviarCorreo()" type="button"></app-button>
						<app-messages-succesful title="A su correo se envió el link para el cambio de contraseña" *ngIf="isAlertOpen" (close)="closeAlert()"></app-messages-succesful>
						<app-messages-error title="¡Hubo un problema!" paragraph="No se pudo realizar el envío, verifique el correo" *ngIf="isErrorAlertOpen" (close)="closeErrorAlert()"></app-messages-error>
                    </div>
				</div>
            </div>
        </div>
			<div class="containerBtnLeft">
				<app-button type="button" *ngIf="button1Visible" (click)="cambiarEstadoBotones()" label="Editar datos" (click)="habilitarInput()"></app-button>
				<div class="containerButtons">
					<app-button type="button" class="sendBtn" *ngIf="button2y3Visible" label="Enviar" (click)="openWarningAlert()"></app-button>
					<app-messages-succesful title="La actualizacion se realizo correctamente" *ngIf="isUpdateSuccessAlertOpen" (close)="closeUpdateSuccessAlert()"></app-messages-succesful>
					<app-messages-error title="¡Hubo un problema!" paragraph="No se pudo realizar la actualizacion verifique bien los datos" *ngIf="isErrorAlertOpen" (close)="closeErrorAlert()"></app-messages-error>
					<app-messages-error title="¡Ooops!" paragraph="Parece que hubo un problema al cargar tus datos" *ngIf="isErrorAlertOpen2" (close)="closeErrorAlert2()"></app-messages-error>
					<app-messages-warning title="¡No tan rápido!" paragraph="¿Estás seguro de actualizar los datos?" *ngIf="isWarningAlertOpen" (confirm)="onConfirmModal()" (close)="closeWarningAlert()"></app-messages-warning>
					<app-loader *ngIf="isLoading"></app-loader>
					<app-button *ngIf="button2y3Visible" (click)="cancelarBotones()" label="Cancelar" color="red"></app-button>
				</div>
			</div>
		</div>
	</form>
</div>